@using CarRental.Models
@using CarRental.Helpers
@using CarRental.Enums
@model IEnumerable<RentalContract>

@{
	ViewData["Title"] = "Моите наеми";
}

<h2 class="pink-title mb-3">Моите наеми</h2>

@if (!Model.Any())
{
	<div class="alert alert-info">
		Нямате направени наеми до момента.
	</div>
}
else
{
	<div class="table-respnsive">
		<table class="table table-striped table-hover align-middle">
			<thead>
				<tr>
					<th>Автомобил</th>
					<th>Период</th>
					<th>Обща цена</th>
					<th>Статус на договора</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var rental in Model)
				{
					<tr>
						<td>
							@rental.Car.Brand @rental.Car.Model
							<div class="text-muted small">Рег. № @rental.Car.RegistrationNumber</div>
						</td>
						<td>@rental.StartDate.ToString("dd.MM.yyyy") - @rental.EndDate.ToString("dd.MM.yyyy")</td>
						<td>@rental.TotalPrice.ToString("0.00") €</td>
						<td>
							@if (rental.Status == RentalContractStatus.Active)
							{
								<span class="badge bg-white text-success border border-success bagde-size">Активен</span>
							}
							else if (rental.Status == RentalContractStatus.Canceled)
							{
								<span class="badge bg-white text-danger border border-danger badge-size">Анулиран</span>
							}
							else if (rental.Status == RentalContractStatus.Finished)
							{
								<span class="badge bg-white text-dark border border-warning badge-size">Завършен</span>
							}
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
	<div class="mt-3 text-end">
		<a asp-controller="Cars" asp-action="Index" class="btn btn-outline-secondary">Назад</a>
	</div>
}