@using CarRental.Helpers
@model IEnumerable<PriceTariff>

@{
	ViewData["Title"] = "Ценови тарифи";
}

<h2 class="pink-title mb-3">Ценови тарифи</h2>

<div class="row">
	@if (TempData["Error"] != null)
	{
		<div class="alert alert-warning">@TempData["Error"]</div>
	}
	<div class="col-md-7">
		<div class="table-responsive d-flex justify-content-center">
			<table class="table table-striped align-middle">
				<thead>
					<tr>
						<th>Тип автомобил</th>
						<th>Цена / ден</th>
						@if (User.IsInRole("Administrator"))
						{
							<th class="text-end">Действия</th>
						}
					</tr>
				</thead>
				<tbody>
					@foreach (PriceTariff tariff in Model)
					{
						<tr>
							<td>@tariff.CarType.GetDisplayName()</td>
							<td>@tariff.PricePerDay.ToString("0.00") €</td>
							@if (User.IsInRole("Administrator"))
							{
								<td class="text-end">
									<a asp-controller="PriceTariffs" asp-action="Edit" asp-route-id="@tariff.Id" class="btn btn-baby-yellow">Редакция</a>
								</td>
							}
						</tr>
					}
				</tbody>
			</table>
		</div>
	</div>
	<div class="col-md-5">
		<div class="card filter-card">
			<div class="card-body">
				<h6 class="pink-title">Типове автомобили</h6>
				<p class="text-muted small">
					Изберете тип според нуждите си – град, пътуване, багаж или работа.
				</p>

				<div class="row small" style="line-height:2;">
					<div class="col-6">
						<div><strong>Седан</strong> – град/пътуване</div>
						<div><strong>SUV</strong> – терен/пътуване</div>
						<div><strong>Ван</strong> – групи/багаж</div>
						<div><strong>Хечбек</strong> – компактен</div>
					</div>
					<div class="col-6">
						<div><strong>Купе</strong> – спортен</div>
						<div><strong>Кабриолет</strong> – удоволствие</div>
						<div><strong>Пикап</strong> – товар/работа</div>
						<div><strong>Комби</strong> – семейство/багаж</div>
					</div>
				</div>

				<hr class="my-3" />

				<h6 class="pink-title mt-3 mb-2">Как се определя цената</h6>
				<ul class="list-unstyled small mb-3" style="line-height:2;">
					<li>🏷️ Всеки тип автомобил има <strong>фиксирана цена на ден</strong>.</li>
					<li>📅 Обща сума = <strong>брой дни × цена/ден</strong>.</li>
					<li>🔄 Цената се взима автоматично от тарифата за избрания тип.</li>
					<li>🛠️ Тарифите се поддържат от администратора.</li>
				</ul>

				<p class="text-muted small mb-2">
					Изгодни тарифи за всеки тип – изберете своя автомобил.
				</p>

				<a asp-controller="Cars" asp-action="Index" class="btn btn-pink w-100">
					Разгледай автомобили
				</a>
			</div>
		</div>
	</div>
</div>