@using CarRental.Helpers
@model IEnumerable<PriceTariff>

@{
	ViewData["Title"] = "Ценови тарифи";
}

<h2 class="pink-title mb-3">Ценови тарифи</h2>

<div class="row">
	@if (TempData["Error"] != null)
	{
		<div class="alert alert-warning">@TempData["Error"]</div>
	}
	<div class="col-md-7">
		<div class="table-responsive d-flex justify-content-center">
			<table class="table table-striped align-middle">
				<thead>
					<tr>
						<th>Тип автомобил</th>
						<th>Цена / ден</th>
						@if (User.IsInRole("Administrator") || User.IsInRole("Employee"))
						{
							<th class="text-end">Действия</th>
						}
					</tr>
				</thead>
				<tbody>
					@foreach (PriceTariff tariff in Model)
					{
						<tr>
							<td>@tariff.CarType.GetDisplayName()</td>
							<td>@tariff.PricePerDay.ToString("0.00") €</td>
							@if (User.IsInRole("Administrator") || User.IsInRole("Employee"))
							{
								<td class="text-end">
									<a asp-controller="PriceTariffs" asp-action="Edit" asp-route-id="@tariff.Id" class="btn btn-baby-yellow">Редактирай</a>
								</td>
							}
						</tr>
					}
				</tbody>
			</table>
		</div>
	</div>
	<div class="col-md-5">
		<div class="card filter-card"> 
			<div class="card-body">
				<h5 class="pink-title">Типове автомобили</h5>
				<p class="text-muted small">
					Всеки тип автомобил има собствена ценова тарифа.
				</p>

				<div class="row small" style="line-height:2;">
					<div class="col-6">
						<div><strong>Седан</strong> – град/пътуване</div>
						<div><strong>SUV</strong> – терен/пътуване</div>
						<div><strong>Ван</strong> – групи/багаж</div>
						<div><strong>Хечбек</strong> – компактен</div>
					</div>
					<div class="col-6">
						<div><strong>Купе</strong> – спортен</div>
						<div><strong>Кабриолет</strong> – удоволствие</div>
						<div><strong>Пикап</strong> – товар/работа</div>
						<div><strong>Комби</strong> – семейство/багаж</div>
					</div>
				</div>

				<hr class="my-3" />

				<h6 class="pink-label mb-2">Как се изчислява цената?</h6>
				<div class="p-3 rounded bg-light border">
					<div class="small">
						<strong>Обща цена</strong> = <strong>брой дни</strong> × <strong>цена/ден</strong>
					</div>
					<div class="text-muted small mt-1">
						Пример: 3 дни × 60,00 € = 180,00 €
					</div>
				</div>

				<h6 class="pink-label mt-3 mb-2">Условия за наем</h6>
				<ul class="list-unstyled small mb-3" style="line-height:2;">
					<li>🪪 Валидна шофьорска книжка</li>
					<li>🕒 Връщане до крайна дата</li>
					<li>⛽ Връщане със същото гориво</li>
					<li>📞 Поддръжка при нужда</li>
				</ul>

				<a asp-controller="Cars" asp-action="Index" class="btn btn-pink w-100">
					Разгледай автомобили
				</a>
			</div>
			</div>
		</div>
	</div>
</div>